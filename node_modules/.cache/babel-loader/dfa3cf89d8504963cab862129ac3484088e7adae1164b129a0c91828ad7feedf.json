{"ast":null,"code":"import React,{memo,useMemo,useCallback,useState,useEffect}from'react';import{useBudgetData}from'../hooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BudgetOverview=/*#__PURE__*/memo(()=>{const{budgetData,loading,error}=useBudgetData();const[selectedPeriod,setSelectedPeriod]=useState('current');// Memoized calculations to prevent unnecessary recalculations\nconst budgetSummary=useMemo(()=>{var _budgetData$income,_budgetData$expenses;if(!budgetData)return null;const totalIncome=((_budgetData$income=budgetData.income)===null||_budgetData$income===void 0?void 0:_budgetData$income.reduce((sum,item)=>sum+item.amount,0))||0;const totalExpenses=((_budgetData$expenses=budgetData.expenses)===null||_budgetData$expenses===void 0?void 0:_budgetData$expenses.reduce((sum,item)=>sum+item.amount,0))||0;const remaining=totalIncome-totalExpenses;return{totalIncome,totalExpenses,remaining,savingsRate:totalIncome>0?((totalIncome-totalExpenses)/totalIncome*100).toFixed(1):0};},[budgetData]);// Memoized category breakdown\nconst categoryBreakdown=useMemo(()=>{if(!(budgetData!==null&&budgetData!==void 0&&budgetData.expenses))return[];const categories=budgetData.expenses.reduce((acc,expense)=>{const category=expense.category||'Other';acc[category]=(acc[category]||0)+expense.amount;return acc;},{});return Object.entries(categories).map(_ref=>{let[category,amount]=_ref;return{category,amount};}).sort((a,b)=>b.amount-a.amount);},[budgetData===null||budgetData===void 0?void 0:budgetData.expenses]);const handlePeriodChange=useCallback(period=>{setSelectedPeriod(period);},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"budget-overview-loading\",children:\"Loading budget data...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"budget-overview-error\",children:[\"Error loading budget: \",error.message]});}if(!budgetSummary){return/*#__PURE__*/_jsx(\"div\",{className:\"budget-overview-empty\",children:\"No budget data available\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"budget-overview\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"budget-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Budget Overview\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedPeriod,onChange:e=>handlePeriodChange(e.target.value),className:\"period-selector\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"current\",children:\"Current Month\"}),/*#__PURE__*/_jsx(\"option\",{value:\"last\",children:\"Last Month\"}),/*#__PURE__*/_jsx(\"option\",{value:\"year\",children:\"This Year\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"budget-cards\",children:[/*#__PURE__*/_jsx(BudgetCard,{title:\"Total Income\",amount:budgetSummary.totalIncome,type:\"income\"}),/*#__PURE__*/_jsx(BudgetCard,{title:\"Total Expenses\",amount:budgetSummary.totalExpenses,type:\"expense\"}),/*#__PURE__*/_jsx(BudgetCard,{title:\"Remaining\",amount:budgetSummary.remaining,type:budgetSummary.remaining>=0?'positive':'negative'}),/*#__PURE__*/_jsx(BudgetCard,{title:\"Savings Rate\",amount:`${budgetSummary.savingsRate}%`,type:\"percentage\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-breakdown\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Expenses by Category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"category-list\",children:categoryBreakdown.map(_ref2=>{let{category,amount}=_ref2;return/*#__PURE__*/_jsx(CategoryItem,{category:category,amount:amount,total:budgetSummary.totalExpenses},category);})})]})]});});// Memoized sub-components to prevent unnecessary re-renders\nconst BudgetCard=/*#__PURE__*/memo(_ref3=>{let{title,amount,type}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:`budget-card budget-card--${type}`,children:[/*#__PURE__*/_jsx(\"h4\",{children:title}),/*#__PURE__*/_jsx(\"span\",{className:\"amount\",children:typeof amount==='string'?amount:`$${amount.toLocaleString()}`})]});});const CategoryItem=/*#__PURE__*/memo(_ref4=>{let{category,amount,total}=_ref4;const percentage=(amount/total*100).toFixed(1);return/*#__PURE__*/_jsxs(\"div\",{className:\"category-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-name\",children:category}),/*#__PURE__*/_jsxs(\"span\",{className:\"category-amount\",children:[\"$\",amount.toLocaleString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"category-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"category-fill\",style:{width:`${percentage}%`}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"category-percentage\",children:[percentage,\"%\"]})]});});BudgetOverview.displayName='BudgetOverview';BudgetCard.displayName='BudgetCard';CategoryItem.displayName='CategoryItem';export default BudgetOverview;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}